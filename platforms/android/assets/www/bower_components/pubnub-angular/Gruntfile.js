module.exports=function(s){require("load-grunt-tasks")(s),s.loadNpmTasks("grunt-contrib-uglify"),s.loadNpmTasks("grunt-webpack"),s.loadNpmTasks("grunt-karma"),s.loadNpmTasks("grunt-webpack"),s.loadNpmTasks("grunt-simple-mocha"),s.initConfig({pkg:s.file.readJSON("package.json"),karma:{suite:{configFile:"karma.conf.js"}},simplemocha:{release:{src:["test/release/**/*.js"]}},eslint:{target:["src/**/*.js"]},webpack:{dist:require("./webpack.config.js")},clean:{compiled:{src:["dist"]}},copy:{main:{files:[{src:["dist/<%= pkg.name %>.js"],dest:"dist/<%= pkg.name %>-<%= pkg.version %>.js"},{src:["dist/<%= pkg.name %>.min.js"],dest:"dist/<%= pkg.name %>-<%= pkg.version %>.min.js"},{src:["dist/<%= pkg.name %>.min.js.map"],dest:"dist/<%= pkg.name %>-<%= pkg.version %>.min.js.map"}]}},uglify:{dist:{options:{sourceMap:!0,maxLineLen:120,mangle:{expect:[]}},files:{"dist/<%= pkg.name %>.min.js":["dist/<%= pkg.name %>.js"]}}}}),s.registerTask("compile",["clean:compiled","webpack:dist","uglify","copy","simplemocha:release"]),s.registerTask("test",["karma:suite","eslint"]),s.registerTask("default",["compile"])};